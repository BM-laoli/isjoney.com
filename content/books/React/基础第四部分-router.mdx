---
title: "React Router è·¯ç”±ç®¡ç†è¯¦è§£"
date: "2024-12-19"
summary: "æ·±å…¥è®²è§£ React Router çš„åŸºç¡€ä½¿ç”¨ã€è·¯ç”±å‚æ•°ä¼ é€’ã€åµŒå¥—è·¯ç”±ã€åŠ¨æ€è·¯ç”±é…ç½®ä»¥åŠè·¯ç”±å®ˆå«ç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œç»“åˆå®é™…ä»£ç ç¤ºä¾‹è¿›è¡Œæ¼”ç¤ºã€‚"
status: "completed"
tech: ["React", "React Router", "JavaScript"]
github: "https://github.com/BM-laoli"
arxiv: ""
keyId: "React"
---

> åœ¨è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å°†å­¦ä¹ åˆ°æœ€é‡è¦çš„ä¸¤éƒ¨åˆ†æ ¸å¿ƒå†…å®¹
>
> + react-routerè·¯ç”±
> + react-reduxçŠ¶æ€ç®¡ç†ï¼Œç±»ä¼¼äºvuex
> + è¿™ä¸¤ä¸ªä¸œè¥¿éƒ½æ˜¯éå¸¸çš„é‡è¦çš„ä¸œè¥¿
>

## react-routerÂ  Â Â 
> ä¸vue-routerä¸€æ ·ï¼Œreactä¸­ä¹Ÿæ˜¯æœ‰routerçš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å­¦ä¹ çœ‹çœ‹è¿™ä¸ªåˆ°åº•æ˜¯æ€ä¹ˆæ“ä½œçš„
>
> 
>

### åŸºç¡€çš„ä½¿ç”¨
> åŸºç¡€çš„ä½¿ç”¨éå¸¸çš„ç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨å®˜æ–¹æ¨èçš„ä¸€ä¸ªåº“ï¼Œæ¥è¿›è¡Œè·¯ç”±ç®¡ç†
>
> + react-router æ ¸å¿ƒç»„ä»¶
> + react-router-dom åº”ç”¨äºæµè§ˆå™¨ç«¯çš„è·¯ç”±åº“ï¼ˆå•ç‹¬ä½¿ç”¨åŒ…å«äº†react-routerçš„æ ¸å¿ƒéƒ¨åˆ†ï¼‰
> + react-router-native åº”ç”¨äºnativeç«¯çš„è·¯ç”±
>

```shell
yarn add react-router-dom
# æˆ–è€…ï¼Œä¸ä½¿ç”¨ yarn
npm install react-router-dom
```

1. ç”±äºæœ€æ–°çš„react-routeræ›´æ–°äº†ï¼Œæ‰€ä»¥ä¸å†éœ€è¦å•ç‹¬çš„é…ç½®
+ Routeræ˜¯æ‰€æœ‰è·¯ç”±ç»„ä»¶å…±ç”¨çš„åº•å±‚æ¥å£ç»„ä»¶ï¼Œå®ƒæ˜¯è·¯ç”±è§„åˆ™åˆ¶å®šçš„æœ€å¤–å±‚çš„å®¹å™¨ã€‚
+ Routeè·¯ç”±è§„åˆ™åŒ¹é…ï¼Œå¹¶æ˜¾ç¤ºå½“å‰çš„è§„åˆ™å¯¹åº”çš„ç»„ä»¶ã€‚
+ Linkè·¯ç”±è·³è½¬çš„ç»„ä»¶





![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597222200953-bb5c3eba-eb26-4269-863c-8173cc6477c8.png)

å°ç»“ï¼šå¦‚æœè¯´æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ˜¯ä¸€åº§å°åŸçš„è¯ï¼Œé‚£ä¹ˆRouteå°±æ˜¯ä¸€åº§åº§å¸¦æœ‰é—¨ç‰Œå·çš„å»ºç­‘ç‰©ï¼Œè€ŒLinkå°±ä»£è¡¨äº†åˆ°æŸä¸ªå»ºç­‘ç‰©çš„è·¯çº¿ã€‚æœ‰äº†è·¯çº¿å’Œç›®çš„åœ°ï¼Œé‚£ä¹ˆå°±ç¼ºä¸€ä½è€å¸æœºäº†ï¼Œæ²¡é”™Routerå°±æ˜¯è¿™ä¸ªè€å¸æœºã€‚



2. å®‰è£…å®Œæ¯•ä¹‹åæˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸‹

> å¯¼å…¥ä¸‰ä¸ªæ ¸å¿ƒçš„ä¸œè¥¿ï¼Œæ³¨æ„å•Šæˆ‘ä»¬è¿™é‡Œæ˜¯èµ·åˆ«åçš„
>
> ![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597233473738-14778f10-1db7-4187-961a-2af56ebad323.png)
>

3. ä½¿ç”¨Routerç»„ä»¶åŒ…è£¹æ•´ä¸ªåº”ç”¨

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597233513534-3109d212-83df-497c-96e9-12eea3f59b0d.png)

4. ä½¿ç”¨linkä½œä¸ºç‚¹å‡»è·³è½¬çš„ï¼ˆå…¥å£ï¼‰

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597233564056-f54996da-1b32-4110-b0a1-8b17aded72dd.png)

5. ä½¿ç”¨Routeé…ç½®ï¼ˆå‡ºå£ï¼‰

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597233571380-12ea7fda-719d-42f8-b733-acdff7505617.png)

> æ³¨æ„å•Šï¼Œè¿™é‡Œçš„è¿™ä¸ªè¿™ä¸ªpathå°±æ˜¯é…ç½®çš„ï¼Œcomponentå°±æ˜¯æŒ‡å®šåŒ¹é…çš„æ—¶å€™è¦æ˜¾ç¤ºçš„è·¯ç”±,linkçš„toå’ŒRouteçš„pathæ˜¯è¦åŒ¹é…çš„
>

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597233662292-79c67478-a7c4-4975-aff0-32c92fc85f63.png)

### å¸¸ç”¨ç»„ä»¶çš„è¯´æ˜
> + ä¸€ä¸ªReactåº”ç”¨ä¸­åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡ï¼Œé™¤äº†æˆ‘ä»¬ä¹‹å‰è¯´çš„BrowserRoueræˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªHashRouteræ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åé¢åŠ äº†ä¸€ä¸ª#ç¬¦å·
> + Linkæœ€ç»ˆå˜æˆaæ ‡ç­¾ï¼Œhrefå°±å˜æˆäº†toçš„å±æ€§ï¼Œtoä¹Ÿæ˜¯urlé‡Œçš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯å¯ä»¥æ›´æ”¹çš„ï¼Œ
> + Routeæ˜¯å‡ºå£ï¼Œå ä½ç¬¦ï¼Œpathæ˜¯ä¸€ä¸ªè§„åˆ™ï¼Œæ³¨æ„å¦‚æœæœ‰ä¸€å †Routeré‚£ä¹ˆä¸€ä¸ªLinkä¼šå»åŒ¹é…æ‰€æœ‰çš„Routeçš„pahtç›´åˆ°æ‰¾åˆ°åŒ¹é…æˆåŠŸä¸ºæ­¢
>
> 
>
> 
>
> 
>

### æ•´ä¸ªæµç¨‹åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
**<font style="color:#F5222D;background-color:#FADB14;">åªè¦rulå‘ç”Ÿå˜åŒ–ï¼Œæ•´ä¸ªè·¯ç”±éƒ½ä¼šé‡æ–°åŒ¹é…ä¸€æ¬¡</font>**

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597234093116-1f2228a2-e21b-4728-998a-b56ec079f4bc.png)



### å¦‚ä½•å®ç°ç¼–ç¨‹å¼å¯¼èˆªï¼Ÿ
> éå¸¸çš„ç®€å•ï¼Œæˆ‘ä»¬ä¹‹å‰è¯´è¿‡Reactä¸­çš„propæ˜¯ä¸€ä¸ªæ ¸å¿ƒï¼Œå¦‚æœä¸€ä¸ªç»„ä»¶æ˜¯è¢«Routeå ä½æ˜¾ç¤ºå‡ºæ¥çš„ï¼Œæ„å‘³ç€è¿™ä¸ªç»„ä»¶å†…éƒ¨çš„propä¸Šå°±æœ‰ä¸€ä¸ªhistoryå±æ€§ï¼Œé€šè¿‡å®ƒå°±èƒ½å®Œæˆurlæ”¹å˜ ï¼Œå®ç°å¯¼èˆª
>

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597234247548-59eef9c7-1dae-44c3-ae57-83ded306c5ef.png)

historyæœ‰ç›¸å…³çš„å¦‚ä¸‹çš„ä¸€äº›api



### é»˜è®¤çš„è·¯ç”±å¦‚ä½•å±•ç¤ºï¼Ÿå±•ç¤ºè¿˜æ˜¯éå¸¸çš„ç®€å•
> åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªpath = '/'å°±å¥½äº†ã€‚/å°±æ˜¯é»˜è®¤çš„è·¯ç”±ï¼Œè¿›å…¥é¡µé¢å°±ä¼šè¢«åŒ¹é…çš„è·¯ç”±ï¼Œ
>

### ç²¾ç¡®åŒ¹é…
> ![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597234621256-426dd157-ac27-457a-a32c-d7043bb6e8af.png)
>

ä»¥ä¸Šéƒ½æ˜¯æœ€åŸºç¡€çš„ä½¿ç”¨æ­¥éª¤ï¼Œå½“ç„¶å…³å…³æ˜¯åŸºç¡€çš„ä½¿ç”¨æ˜¯è¿œè¿œä¸è¶³å¤Ÿæˆ‘ä»¬åšé¡¹ç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„æ·±å…¥å­¦ä¹ react-router



### å¦‚ä½•å®ç°è·¯ç”±çš„å‚æ•°ä¼ é€’å‘¢ï¼Ÿ
æ¯”å¦‚ï¼Œä½ ç‚¹å‡»æŸä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶çš„æ—¶å€™ ï¼Œæˆ‘éœ€è¦ä½ è¿™ç¯‡æ–‡ç« çš„idé‚£ä¹ˆä½ å¦‚ä½•ä¼ é€’è¿™ä¸ªidç»™æˆ‘å‘¢ï¼Ÿæˆ‘åˆè¦å¦‚ä½•è·å–ï¼Ÿprops.paramsÂ æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆ

###### 1ã€ç›®å½•åŠ ç»„ä»¶å…³ç³»å›¾


ç»„ä»¶å…³ç³»ï¼š

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323081565-5c9a78a9-8ca5-4818-9c4e-25a61798b990.png)

##### 2ã€æºç 
./index.js

```javascript
import React from 'react';
import ReactDOM from 'react-dom';
import App from './components/App/App';
ReactDOM.render(<App />, document.getElementById('root'));

```

./src/components/App/App.js

```javascript
import React , { Component } from 'react';
import { BrowserRouter as Router, Route, Link } from 'react-router-dom';
import About from '../About/About';
class App extends Component {
  constructor() {
    super();
    this.state = {
      lists: ['10010', '10086', '8000'],  // åœ¨reactä¸­ä¸‡ç‰©çš†ç»„ä»¶ï¼Œä¸‡ç‰©çš†ç»„ä»¶ï¼Œè·Ÿæˆ‘é»˜å¿µï¼Œä¸‡ç‰©çš†ç»„ä»¶ï¼ï¼ï¼ï¼ï¼
    };
  }
  render() {
    let linkList = this.state.lists.map(item => {
      return (
        <li><Link to={`/about/${item}`}> {item} </Link></li>
      );
    });
    return (
      <Router>
        <div>
          <ul> { linkList } </ul>
          <Route path="/about/:tel" component={About} />
        </div>
      </Router>
    );
  }
}
export default App;
```



![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323082564-4ed4a91e-c95f-4a42-b578-ce3fcbb56ff1.png)

æ³¨ï¼š< Route>åœ¨é€‰æ‹©æ¸²æŸ“Aboutç»„ä»¶æ—¶ï¼Œå…¶å®ä¹Ÿä¼ ç»™äº†Aboutç»„ä»¶ä¸€ä¸ª `matchå¯¹è±¡`ã€‚åœ¨Aboutä¸­ç›´æ¥this.props.matchå³å¯è®¿é—®ã€‚

**<font style="background-color:#FADB14;">è¿™å¥è¯çš„æ„æ€å°±æ˜¯ï¼Œåœ¨è·¯ç”±è·³è½¬çš„æ—¶å€™ï¼Œä½ ä¼ é€’äº†ä¸€ä¸ªmatchå¯¹è±¡åœ¨propsä¸Šï¼Œè¿™ä¸ªmatchå°±æ˜¯è·¯ç”±å¯¹è±¡</font>**



./src/components/About/About.js

```javascript
import React, { Component } from 'react';
class About extends Component {
    render() {
        return (
            <div>about: {this.props.match.params.tel}</div>
        );
    }
}
export default About;
```



![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323081538-666c1615-c5e8-477a-8bde-8b9215ebb584.png)

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323081674-0d5d5c9c-6f2e-4356-9a32-747a0cffa51e.png)

ç‚¹å‡»8000åï¼š

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323081563-49363df8-22d4-444e-ae3e-463cd871566d.png)



ç¬¬äºŒç§ä¼ å‚æ‰¥æ–¹å¼

ä½¿ç”¨queryå®šä¹‰ä¼ å€¼æ–¹å¼ï¼Œæ³¨æ„ï¼šé¡µé¢åˆ·æ–°åï¼Œå‚æ•°ä¸¢å¤±

```javascript
<Route path="/query" component={App} />

//åœ¨Linkç»„ä»¶ä¸­å®šä¹‰å‚æ•°

const param ={
    pathname:"/query",
    query:"å‚æ•°"
}

<Link to={param}>List</Link>

//åœ¨å­ç»„ä»¶ä¸­è·å–å‚æ•°å€¼

this.props.location.query
```



ç¬¬ä¸‰ç§è§£å†³æ–¹æ¡ˆ

> ä»¥ä¸Šä»…ä»…æ˜¯æˆ‘ä»¬çš„ç‚¹å‡»çš„æ—¶å€™ä¼ é€’çš„å€¼ï¼Œåœ¨rulä¸Šå¯ä»¥æ‹¿åˆ°ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬è¦ç¼–ç¨‹å¼å¯¼èˆªï¼Œé‚£ä¹ˆå¦‚ä½•æ‹¿åˆ°æˆ‘ä»¬çš„å€¼å‘¢ï¼Ÿ
>

+ å…¥è‚¡æ˜¯history.repacle( ç›®æ ‡pathï¼Œ{}ï¼‰ç¬¬äºŒä¸ªå°±æ˜¯ä½ éœ€è¦ä¼ é€’è¿‡å»çš„å¯¹è±¡ï¼Œåœ¨ç›®æ ‡pathç»„ä»¶å†…é€šè¿‡this.propsä¸Šæœ‰ä¸€ä¸ªlocationèƒ½æ‹¿åˆ°ç¬¬äºŒä¸ªå¯¹è±¡ï¼ˆä½ ä¼ é€’è¿‡å»çš„å€¼ï¼‰



ç¬¬å››ä¸­è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰

å¯ä»¥æœ‰æ•ˆçš„è§£å†³é¡µé¢åˆ·æ–°åï¼Œå‚æ•°ä¸¢å¤±çš„é—®é¢˜



1. linkeå®šä¹‰

```javascript
let obj = {
  pathname: '/component',
  search: '?sort=name',
  query: { fromDashboard: 123 },
  state: { fromDashboard: 123 }
}
<Link to="{obj}">Zillow Group</Link>
```

2. æ¥æ”¶

```javascript
this.props.location.search // search == "?sort=name"
this.props.location.query // query == { fromDashboard: 123 }
this.props.location.state // state == { fromDashboard: 123 }
```

### å¦‚ä½•å®ç°å¤šå±‚çº§çš„é¡µé¢åµŒå¥—å‘¢?å®é™…ä¸Šä¹Ÿéå¸¸çš„ç®€å•
###### 1ã€ç›®å½•åŠ ç»„ä»¶å…³ç³»å›¾
ç»„ä»¶å…³ç³»ï¼š

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292781-8d37a974-9cc0-407a-a9b5-34672d3fd057.png)

##### 2ã€æºç 
./index.js

```javascript
import React from 'react';
import ReactDOM from 'react-dom';
import App from './components/App/App';
ReactDOM.render(<App />, document.getElementById('root'));
```

./src/components/App/App.js

```javascript
import React from 'react';
import { BrowserRouter as Router, Route, Link } from 'react-router-dom';
import Home from '../Home/Home';
import About from '../About/About';
import Inbox from '../Inbox/Inbox';
function App() {
  return (
    <Router>
      <div>
        <ul>
          <li><Link to="/">Home</Link></li>
          <li><Link to="/about">About</Link></li>
          <li><Link to="/inbox">Inbox</Link></li>
        </ul>
        <hr/>
        <Route path="/" exact component={Home} />
        <Route path="/about" component={About} />
        <Route path="/inbox" component={Inbox} />
      </div>
    </Router>
  );
}
export default App;
```



![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292652-590b46bd-0634-4028-89eb-3971a5d9df24.png)

./src/components/About/About.js

```javascript
import React, { Component } from 'react';
class About extends Component {
    render() {
        return (
            <div>i am about</div>
        );
    }
}
export default About;
```

./src/components/Inbox/Inbox.js

```javascript
import React, { Component } from 'react';
import { BrowserRouter as Router, Route, Link } from 'react-router-dom';
class Inbox extends Component {
    render() {
        return (
            <div>
                <h2>Inbox title</h2>
                <ul>
                    <li><Link to={`${this.props.match.url}/components`}> Components </Link></li>
                    <li><Link to={`${this.props.match.url}/props-v-state`}> Props v. State </Link></li>
                </ul>
                <Route path={`${this.props.match.path}/:getId`} component={Topic} />
                <Route path={this.props.match.path} exact render={() => <h3>Please select a topic.</h3>}/>
            </div>
        );
    }
}
function Topic(props) {
    return <h3>{props.match.params.getId}</h3>;
}
export default Inbox;

```

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292650-cd06c4f3-056d-4889-ad84-ffa9025d64dd.png)![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292730-20d0953d-3aa1-43ea-abf0-4461b3d9b923.png)

##### 3ã€å±•ç¤º
![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292663-91ebc614-63ad-45e9-95e5-6ffd9f72eb5f.png)

ç‚¹å‡»Inboxåï¼š

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292713-4e88944c-9cb9-4e09-a1a5-b91727049325.png)

ç‚¹å‡» Props v. State åï¼š

![](https://cdn.nlark.com/yuque/0/2020/png/1627571/1597323292608-42595c94-8055-460b-ad06-2df22e705d43.png)





### å¦‚ä½•æŠŠè·¯ç”±ç‹¬ç«‹å‡ºæ¥ï¼Ÿ(æ‰‹å†™å®ç°ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨router-configè¿™ä¸ªæ¥æ)
> ç›®å‰å•Šï¼Œæˆ‘å‘ç°ç°åœ¨çš„routerè€¦åˆåº¦å¤ªé«˜äº†ï¼Œå¦‚æœæˆ‘æƒ³è¦æŠŠä»–ä»¬æˆ‘è¯´çš„æ˜¯routerç‹¬ç«‹å‡ºæ¥æ“ä½œï¼Œé‚£ä¹ˆæˆ‘è¦å¦‚ä½•åšå‘¢ï¼Ÿ
>
> å®é™…ä¸Šè¿˜æ˜¯æœ‰äº›å¤æ‚çš„ï¼Œæˆ‘ä»¬æ¥çœ‹éœ€æ±‚
>

1. éœ€æ±‚ï¼Œæˆ‘å¸Œæœ›

```javascript
import home from 'pages/Home.jsx'
import record from 'pages/Record.jsx'
import feedBack from 'pages/FeedBack.jsx'
const router = [
    {
        path:'/record',
        component:record
    },
    {
        path:'/',
        component:home,
        redirect:'/feedBack',
        children:[
            {
                path:'/feedBack',  ////å°±æ˜¯è¿™é‡Œvueçš„è¯ä¼šå†™æˆfeedBackï¼Œä½†æ˜¯reactä¼š/
                 component:feedBack
            }
        ]
    },
]
//å¦‚æœç†Ÿæ‚‰vueçš„å°ä¼™ä¼´ä¼šæ˜ç™½æƒ³å¹²ä»€ä¹ˆï¼Œ
// ä¸»è¦æ˜¯åœ¨/è·¯å¾„ä¸‹ç”Ÿæˆhomeä½†æ˜¯åŒ¹é…åˆ°/ä¹‹åä¼šé‡æ–°å®šä¹‰åˆ°/feedBackè·¯å¾„ä¸Šå»ï¼Œ
//æ­¤æ—¶çš„homeå’ŒfeedBackç»„ä»¶æ˜¯å…±å­˜çš„ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„layoutå’Œcontainæ˜¯å…±å­˜çš„ï¼Œå¦‚æœæ˜¯vueçš„è¯å¾ˆç®€å•ï¼Œå¾ˆå¥½åšï¼Œä½†æ˜¯reactçš„è·¯ç”±æˆ‘*****
```



2. å®ç°çš„æ­¥éª¤å¦‚ä¸‹

<font style="color:#4D4D4D;">æˆ‘ä»¬ä½¿ç”¨äº†router å¯¹è·¯ç”±æ•°æ®è¿›è¡Œäº†æ„å»ºï¼Œä¸‹é¢æˆ‘åªéœ€è¦ä¸€ä¸ªæ–¹æ³•ç”Ÿæˆä»–ï¼Œæ‰‹å†™ï¼ä½†æ˜¯æ²¡æœ‰å¿…è¦ï¼Œæˆ‘ä»¬åç»­ä¼šä»‹ç»ä¸€ä¸ªrouterç»“åˆä½¿ç”¨çš„ä¸€ä¸ªåº“ï¼Œåˆ©ç”¨é‚£ä¸ªåº“ï¼Œå¯ä»¥ä¼˜é›…çš„å®ç°åŠ¨æ€è·¯ç”±ç”Ÿæˆ</font>

```javascript

// ç”ŸæˆåŠ¨æ€è·¯ç”±çš„æ–¹æ³•
function generateRoute(value){
    if(value.children){  // å¦‚æœæœ‰å­ç»„ä»¶
        return (
                <Switch  key={value.path}>
                   <Redirect exact from={value.path} to={value.redirect} />
                   <Route key={value.path} path={value.path}>
                        <value.component>
                            {
                                value.children.map(item=>{
                                    return generateRoute(item)
                                })
                            }
                        </value.component>
                    </Route>
                </Switch>                
            )
        }
        // å¦‚æœæ²¡æœ‰å­ç»„ä»¶
    return <Route key={value.path} path={value.path} component={value.component} />
}
    
// ç»„ä»¶
function app(){
    return (
        <Switch>
            {
              // é‡ç‚¹æ¥äº†ï¼
                router.map(item=>{
                    return generateRoute(item)
                })
            }
        </Switch>
    )
}
// åœ¨ä¸€ç³»åˆ—çš„è½¬åŒ–ä¸‹ä»–ä¼šç”Ÿæˆè¿™ä¸ªä¸œè¥¿
<Switch>
      <Route path='/record' component={record}></Route>
      <Switch>
           <Redirect exact from='/' to='/feedBack'></Redirect>
           <Route path='/'>
                <Home>
                    {
                        <Route path='/feedBack' component={feedBack} />
                    }
                </Home>
           </Route>
      </Switch>
</Switch>
//åœ¨è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†<Home>ç»„ä»¶ï¼Œè¿™æ ·åœ¨Homeç»„ä»¶ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡this.props.childrenæ¥è·å–ä¼ å…¥çš„ç»„ä»¶ï¼Œç±»ä¼¼äºvueçš„æ’æ§½

```





#### ç›¸å…³æŠ€æœ¯ç‚¹è¯´æ˜ï¼š
> åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„è¿™ä¸ªå‘ç°æœ‰ä¸¤ä¸ªè²Œä¼¼æ²¡æœ‰æ¥è§¦è¿‡çš„ä¸œè¥¿**<font style="background-color:#FADB14;">Switch</font>**** **å’Œ**<font style="background-color:#FADB14;">Redirect</font>**æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹ä»–ä»¬åˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„
>

1. switch

å­—é¢ä¸Šéå¸¸å¥½ç†è§£ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªå¼€å…³ï¼ŒåŒä¸€ä¸ªæ—¶é—´ç‚¹å†…åªåŒ¹é…ä¸€ä¸ª

**<font style="color:#F5222D;background-color:#FADB14;">æœ‰<Switch>æ ‡ç­¾ï¼Œåˆ™å…¶ä¸­çš„<Route>åœ¨è·¯å¾„ç›¸åŒçš„æƒ…å†µä¸‹ï¼ŒåªåŒ¹é…ç¬¬ä¸€ä¸ªï¼Œè¿™ä¸ªå¯ä»¥é¿å…é‡å¤åŒ¹é…ï¼›æ¢å¥è¯è¯´ï¼ŒåŒ¹é…çš„æ—¶å€™å¦‚æœæœ‰å¤šä¸ªè·¯å¾„ï¼Œåªæ˜¾ç¤ºå½“å‰åŒ¹é…çš„å“ªä¸€ä¸ªå…¶ä»–çš„ä¸æ˜¾ç¤º</font>**

2. reditect

å­—é¢ä¸Šéå¸¸å¥½ç†è§£ï¼Œé‡å®šå‘ï¼ï¼Œè¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆéœ€è¦è¯´æ˜çš„ï¼Œé‡å®šå‘ï¼é‡ä»€ä¹ˆåœ°æ–¹è·³åˆ°ä»€ä¹ˆåœ°æ–¹å»

```javascript
 ï¼œRedirect from="messages/:id" to="/messages/:id" />
```



### ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥å®ç° è·¯ç”±çš„é…ç½®æŠ½ç¦»
> åœ¨vueä¸­ï¼Œç»å¸¸ä¼šæœ‰Â è·¯ç”±æ‹¦æˆªä»¶çš„ä¸œè¥¿ï¼Œåœ¨reactä¸­å¦‚ä½•åšåˆ°å‘¢ï¼Ÿ
>
> ç­”æ¡ˆå°±æ˜¯
>
> # react-router-config

```shell
npm i react-router-dom react-router-config â€“save
```

1. <font style="color:#4D4D4D;">reactå¯ä»¥é€šè¿‡ä¸€æ¬¾react-router-configæ’ä»¶åšåˆ°å’Œvue-routerä¸€æ ·çš„ä½¿ç”¨å—æ„Ÿ</font>
+ æä¸€ä¸ªhomeé¡µé¢

```javascript
import React from 'react';

export default function Home(){
   return (
      <div>
        <h1>è¿™æ˜¯ä¸»é¡µ</h1>
        <a href="/about">å»about</a>
        <a href="/discover">å»discover</a>
      </div>    
   )
}
```

+ å»ºç«‹ä¸€ä¸ªabouté¡µé¢

```javascript
import React from 'react';
import {Link} from 'react-router-dom';
import {renderRoutes} from 'react-router-config';

//å˜é‡çš„å¯¼å‡ºç”¨exportï¼Œè€Œä¸æ˜¯export default
export const About = (props)=>{
   const route = props.route
   return (  
      <div>
        <h1>è¿™æ˜¯å…³äº</h1>
        <a href="/">å»home</a>
        <a href="/discover">å»discover</a>
        <Link to="/about/my">å…³äºæˆ‘çš„</Link>
        <br />
        <Link to="/about/you">å…³äºä½ çš„</Link>
     
        {/*ä½¿ç”¨renderRoutesæ–¹æ³•ç»§ç»­æ¸²æŸ“å­è·¯ç”±ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥è¿›è¡Œä¼ å‚*/}
        {renderRoutes(route.childrens,{user:'hello'})}

      </div>
   )
}
```

+ å»ºç«‹ä¸€ä¸ªdiscoveré¡µé¢

```javascript
import React from 'react';
import {Link} from 'react-router-dom';
import {renderRoutes} from 'react-router-config';

export default function Discover(props){
   const route = props.route
   return (  
      <div>
        <h1>è¿™æ˜¯å‘ç°</h1>
        <a href="/">å»home</a><br />
        <a href="/about">å»about</a><br />
        <Link to="/discover/earth">å‘ç°åœ°çƒ</Link>
        <br />
        <Link to="/discover/star">å‘ç°æ˜Ÿæ˜Ÿ</Link>
        {renderRoutes(route.childrens)}
      </div>
   )
}
```

+ å†å»ºç«‹ä¸¤ä¸ªå­é¡µé¢

my

```javascript
import React from 'react';

export default function My(props){
   return (  
      <div>
        <h1>è¿™æ˜¯å…³äºæˆ‘çš„</h1>
        <p>{props.user}</p>
      </div>
   )
}
```

you

```javascript
import React from 'react';

export default function You(){
   return (  
      <div>
        <h1>è¿™æ˜¯å…³äºä½ çš„</h1>
      </div>
   )
}
```

+ æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›è¾…åŠ©é¡µé¢

Star

```javascript
import React from 'react';

export default function Star(){
   return (  
      <div>
        <h1>è¿™æ˜¯å‘ç°æ˜Ÿæ˜Ÿ</h1>
      </div>
   )
}
```

Earth

```javascript
import React from 'react';

//<p>{props.match.params.id}</p>
export default function Earth(props){
   return (  
      <div>
        <h1>è¿™æ˜¯å‘ç°åœ°çƒ</h1>
      </div>
   )
}
```

2. å»ºç«‹é…ç½®æ–‡ä»¶

router.js

```javascript
åœ¨srcç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹routeï¼ˆåå­—è‡ªå·±éšä¾¿å–ï¼‰ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºroute.jsæ–‡ä»¶ï¼Œåœ¨route.jsé‡Œè¿›è¡Œæ–‡ä»¶çš„é…ç½®

import Home from '../component/home'
//æ³¨æ„éå‡½æ•°ã€éè¡¨è¾¾å¼ç­‰å¯¼å…¥è¦ç”¨{}æ‹¬ä½
import {About} from '../component/about'
import Discover from '../component/discover'
import Earth from '../component/earth'
import Star from '../component/star'
import My from '../component/my'
import You from '../component/you'

 const routes = [
   {
      path:'/',
      component: Home,
      exact:true
   },
   {
      path:'/about',
      component: About,
      childrens:[
        {
        path:'/about/my',
        component:My
        },
        {
        path:'/about/you',
        component:You
        }
      ]
   },
   {
      path:'/discover',
      component: Discover,
      childrens:[
        {
        path:'/discover/earth',
        component:Earth
        },
        {
        path:'/discover/star',
        component:Star
        }
      ]
   }
]

export {routes}
```

3. æœ€åçš„æœ€åæˆ‘ä»¬æ€»ç®—æ¥æ¸²æŸ“äº†

index,js

```javascript
import React from 'react';

import ReactDOM from 'react-dom';
import * as serviceWorker from './serviceWorker';
import { BrowserRouter} from "react-router-dom";
import { renderRoutes } from "react-router-config";
import './index.css';
import {routes} from './router/route';

// ä½¿ç”¨renderRoutesæ–¹æ³•æ¸²æŸ“è·¯ç”±
ReactDOM.render(<BrowserRouter>
            { renderRoutes(routes)  }
            </BrowserRouter>, document.getElementById('root'));

serviceWorker.unregister();
```

> ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åº“çš„åŸºç¡€ä½¿ç”¨åœ¨é‡Œé¢
>

### å¦‚ä½•åšè·¯ç”±å®ˆå«çš„æ‹¦æˆªå’Œæƒé™çš„åˆ¤æ–­å‘¢ï¼Ÿ
> éå¸¸ç®€å•ï¼Œä½¿ç”¨router-configåªéœ€è¦æ”¹ä¸€äº›ä¸œè¥¿å°±å¥½ï¼Œä»€ä¹ˆï¼ŸğŸ’©å§ï¼Œè¿™è¦æ‰‹å†™ä¸€ä¸ªé‰´æƒ ï¼Œæ²¡äº‹å“¥æ‰›å¾—ä½ï¼
>

ç”±äºè¿™é‡Œçš„è¿™ä¸€å—å†…å®¹ç›¸å¯¹çš„æ¯”è¾ƒéš¾ï¼Œéœ€è¦å­¦ä¹ reduxä¹‹åæ‰èƒ½è¯»å¾—æ˜ç™½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆå»å­¦ä¹ reduxåç»­å›è¿‡å¤´å¼€çœ‹è¿™ä¸ªå®ç°çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆ



å…³äºè·¯ç”±é‰´æƒå’ŒåŠ¨æ€è·¯ç”±åŒ¹é…çš„è¿™ä¸ªé—®é¢˜æ˜¯éå¸¸å€¼å¾—ä¸€æçš„ï¼Œå› ä¸ºåœ¨ä¸šåŠ¡ä¸­ä¼šç»å¸¸çš„ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥å•Šï¼Œè¿™ä¸ªéå¸¸çš„é‡è¦ï¼æˆ‘ä»¬åœ¨å­¦ä¹ å®Œreduxä¹‹åéœ€è¦é¢å¤–çš„è®¤çœŸå­¦ä¹ ï¼Œè¯¥éœ€æ±‚çš„è§£å†³æ–¹æ¡ˆ



/ ---2021-12-10æ—¥æ›´æ–°ï¼Œç›®å‰é’ˆå¯¹è¿™ä¸€å—çš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼Œä¹Ÿæ˜¯ç›®å‰è€æåœ¨ä¼ä¸šä¸­çš„è¿ç”¨



```javascript

```



