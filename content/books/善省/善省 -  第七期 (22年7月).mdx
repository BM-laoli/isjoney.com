---
title: "å–„çœ - ç¬¬ä¸ƒæœŸ (22å¹´7æœˆ)"
date: "2024-12-19"
summary: "è®¨è®ºAPPä¸šåŠ¡ç§»äº¤çš„èŒåœºæ„Ÿæ‚Ÿï¼Œåˆ†äº«å›¢é˜Ÿç®¡ç†å’Œå·¥å…·äººèº«ä»½çš„æ€è€ƒï¼Œä»¥åŠFormè¡¨å•POSTè¯·æ±‚çš„æŠ€æœ¯è¸©å‘ç»éªŒï¼ŒåŒ…æ‹¬x-www-form-urlencodedå‚æ•°ä¼ é€’å’Œå¤šç§HTTPè¯·æ±‚å¤´æ ¼å¼è¯¦è§£ã€‚"
status: "completed"
tech: ["èŒåœºæ„Ÿæ‚Ÿ","å›¢é˜Ÿç®¡ç†","HTTP","FormData","XMLHttpRequest"]
github: "https://github.com/BM-laoli"
arxiv: ""
keyId: "å–„çœ"
---

## å…³äºAPPä¸šåŠ¡è¢«ç§»äº¤çš„çœ‹æ³•
Appçš„ä¸šåŠ¡å·²ç»ï¼Œè¢«ç§»äº¤åˆ°ECå›¢é˜Ÿäº†ã€‚æˆ‘å‘ç°ç°åœ¨çš„é¢†å¯¼åšçš„ä¸æ˜¯ç‰¹åˆ«å¥½çš„åœ°æ–¹å°±æ˜¯ï¼Œæˆ‘ä½œä¸ºå”¯ä¸€çš„ä¸€ä¸ªAppå¼€å‘äººå‘˜ï¼Œä¹Ÿæ˜¯ä¸»è¦çš„Appå¼€å‘è´Ÿè´£äººï¼Œç«Ÿç„¶æ˜¯æœ€åä¸€ä¸ªçŸ¥é“çš„ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒéœ‡æƒŠçš„ï¼Œè¯´å®è¯ä¹Ÿè®¸æˆ‘æ›´åŠ å¸Œæœ›ï¼Œèƒ½æå‰çŸ¥é“ï¼Œæ¯”å¦‚å’Œæˆ‘è¯´ä¸€ä¸‹ï¼šâ€œ_**<font style="color:#F5222D;">å¯èƒ½APPè¿™ä¸€å—è¦ç§»äº¤çš„EC ï¼Œä½ åšä¸€ä¸‹äº¤æ¥å‡†å¤‡å§</font>**_â€ï¼Œä¸è¿‡å‘¢ç”»æ‰‹å›æ¥ï¼Œé¢†å¯¼ä¸ºä»€ä¹ˆè¦å’Œä½ è¯´ï¼Œä½ åªæ˜¯ä¸€ä¸ªå·¥å…·äººã€‚

ä¹Ÿè®¸å¯èƒ½æ˜¯è‡ªå·±è¢«ç¤¾ä¼šçš„æ¯’æ‰“ä¸å¤Ÿï¼Œç¡®ç¡®å®å®æ²¡æœ‰è®¤æ¸…ï¼Œè‡ªå·±åœ¨é¢†å¯¼çš„çœ¼é‡Œåªæ˜¯ä¸€ä¸ªå·¥å…·äººè€Œå·²ï¼Œæˆ‘è¿˜æ˜¯å¸Œæœ›èƒ½å¤ŸåŠ å…¥ï¼Œæ¯”è¾ƒæœ‰äººæƒ…å‘³çš„ å›¢é˜Ÿï¼Œè‡³å°‘åœ¨ç›´æ¥é¢†å¯¼äº¤æµèµ·æ¥ï¼Œä½ ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·äººï¼Œä½ åº”è¯¥æœ‰ä¸€ç§â€˜å¸ˆå¾’â€™çš„çš„èº«ä»½å›æ›´å¥½ï¼Œè¿™ä¸ªç»éªŒä¸ºå¾—å¥½å¥½çš„å­¦ä¹ ï¼Œå¦‚æœæœ‰æœä¸€æ—¥ æˆ‘ä¹Ÿèƒ½æˆä¸º æ‰€è°“çš„é¢†å¯¼ï¼Œä¹Ÿè®¸è¿™å°±æ˜¯ä¸€ä¸ªæˆ‘çš„ç›®æ ‡

ï¼šâ€œ**<u><font style="color:#D4B106;">èƒ½å¸¦å¥½å›¢é˜Ÿï¼Œèƒ½æˆä¸ºä¸€ä¸ªå¥½çš„å¸ˆå‚…ï¼Œå°±åƒ ç¾å›¢å¸¦æˆ‘çš„å¸ˆå‚… æ¾å“¥ä¸€æ ·</font></u>**â€ï¼Œå¯¹æ‰‹ä¸‹å¸¦çš„äººæ¥è¯´ï¼Œä»–ä»¬ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·äººğŸ”§ ï¼Œæˆ‘ä»¬åº”è¯¥æ˜¯ä¸€ä¸ªå›¢é˜Ÿã€‚



ç›®å‰æœ‰é‰´äºè¿™æ ·çš„æƒ…å†µï¼Œæˆ‘æ‰“ç®—ä»ç°åœ¨å¼€å§‹ ï¼ˆå°±æ˜¯è¯´ä»ä¸Šå‘¨å¼€å§‹ï¼Œå¾—éª‘é©´æ‰¾é©¬äº†ï¼Œæ‰¾åˆ°ä¸é”™çš„æœºä¼šå°±é©¬ä¸Šè·‘è·¯ï¼‰ä¸€éå¤ä¹ ä¸€éè·‘è·¯ï¼Œè™½ç„¶çŸ¥é“ï¼Œä»Šå¹´çš„è¡Œæƒ…ä¸å¥½ï¼Œä¸åˆ°ä¸‡ä¸å¾—å·² ä¸èƒ½è½»æ˜“è·‘è·¯ï¼Œä½†æ˜¯ åˆèƒ½æ€ä¹ˆæ ·å‘¢ï¼Œç›®å‰æˆ‘å·²ç»å’Œé¢†å¯¼ç”³è¯·ï¼Œåˆ‡æ¢åˆ°äº†ECå›¢é˜Ÿï¼Œç¬¬ä¸€æ­¥ä¸»è¦æ˜¯åšECä¸»ç«™çš„éƒ¨åˆ†ï¼Œç¬¬äºŒæ­¥å°±æ˜¯æœ‰æœºä¼šæ¥è§¦Appçš„æ—¶å€™åšAppçš„éƒ¨åˆ†ï¼Œç›®å‰æ­£åœ¨ä¸€ç‚¹ä¸€ç‚¹åœ°æ‰§è¡Œè¿™ä¸ªè®¡åˆ’

**<u><font style="color:#D4B106;">â€œå…ˆåœ¨ECç‹—ç€ï¼Œå­¦ä¹ å’Œèå…¥ECï¼›åŒæ—¶ä¸€è¾¹éª‘é©´æ‰¾é©¬ï¼Œè·‘è·¯ä¸æˆ  è¿˜èƒ½ç•™å¾— é’å±±åœ¨ï¼Œå¦‚æœæ˜¯ä¾ç„¶åœ¨Alex è€ç‹å¸¦çš„MKPLå›¢é˜Ÿï¼Œæˆ‘è§‰å¾—å°±å¾ˆéš¾å—äº†ï¼Œæ€»ç»“ä¸€å¥è¯ï¼ŒAlex è¿™è¾¹çš„MKPLå›¢é˜Ÿï¼Œå·¥å…·äººå±æ€§æ‹‰æ»¡ å›¢é˜Ÿå¥½â€ï¼Œ  
</font></u>**

è®°å¾—æ›¾ç»çœ‹è¿‡ ä¹”å¸®ä¸»çš„æ¼”è®²ï¼Œä¸€ä½å­¦ç”Ÿæé—®â€œä½ åœ¨Apple å­¦ä¹ åˆ°æœ€æœ‰æ„ä¹‰çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿâ€ï¼Œä¹”å¸ƒæ–¯ æ€è€ƒäº†å¤§æ¦‚3åˆ†é’Ÿä¹‹åæ¬§ï¼Œâ€œæˆ‘_**<u><font style="color:#E8323C;">ç°åœ¨å¯¹äººæœ‰æ›´é•¿è¿œçš„çœ‹æ³•æ˜¯ï¼Œç”¨æ›´é•¿è¿œçš„çœ¼å…‰å»çœ‹ï¼Œæˆ‘ä»¬æ˜¯ç»„å»ºçš„æ˜¯ä¸€ä¸ªå›¢é˜Ÿï¼Œä¸ä»…ä»…æ˜¯ç°åœ¨çš„å›¢é˜Ÿï¼Œä¸ä»…ä»…ç€çœ¼å½“ä¸‹æ˜å¹´ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†æœªæ¥</font></u>**_â€è¿™æ˜¯ä»–è¯´çš„ ï¼Œ[Steve Jobs @ MIT 1992å¹´ä¹”å¸ƒæ–¯åœ¨éº»çœç†å·¥å­¦é™¢è¢«æé—®â€œå¯¹äºä½ æ¥è¯´ï¼Œåœ¨è‹¹æœå…¬å¸å­¦åˆ°çš„æœ€é‡è¦çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿâ€_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Zr4y1t7tF?spm_id_from=333.337.search-card.all.click&vd_source=e136cf9e83301ac4e056f1008bb36bd4)

## è¸©å‘- å…³äº Formè¡¨å•çš„ä¸œè¥¿
æˆ‘é‡åˆ°è¿™æ ·çš„ä¸€ä¸ªéœ€æ±‚ï¼šä¸ºäº†èƒ½å¤Ÿä¿è¯ ç”¨æˆ·èƒ½å¤Ÿä¸‹è½½æ›´å¤§çš„æ–‡ä»¶å’Œä¼ é€’æ›´å¤šçš„å‚æ•°ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠåŸæ¥çš„GETè¯·æ±‚æ¢æˆPOSTè¯·æ±‚ï¼Œä»¥ä¾¿äºæ”¯æŒå¤§çš„body ï¼Œ

ç ”ç©¶å‘ç°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯ç›´æ¥ä½¿ç”¨ form ï¼Œæ‹¿åˆ°æ•°æ®ä¹‹åå»å¾ªç¯å¾€æ¯ä¸€ä¸ªInput ä¸Šå»åŠ å±æ€§å’Œå€¼ï¼Œæœ€åä½¿ç”¨formä¸Šçš„action å’Œ method = getï¼Œ_brand = traget ç›´æ¥æ–°å¼€tabçš„æ–¹å¼çš„æ–¹å¼å»å‘ˆç° ä¸‹è½½å¥½çš„æ–‡ä»¶ï¼Œå¯ä»¥å®Œæˆ ç›´æ¥å±•ç¤ºï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼  å§method æ¢æˆpost ä¼šæ‰¿è½½cookie å’Œè¯·æ±‚å¤´æ— æ³• æºå¸¦å’Œè‡ªå®šä¹‰çš„é—®é¢˜ï¼Œè€Œä¸”åç«¯åˆä¸æ”¹ï¼Œæ‰€æœ‰æˆ‘ä»¬æ¢æˆäº† bolob ä½¿ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼å»ï¼Œä¸‹è½½ï¼ˆå¤±å»äº†ç›´æ¥é¢„è§ˆçš„åŠŸèƒ½ï¼‰ï¼Œè¿™å…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯**<font style="color:#E8323C;">â€œå¦‚ä½•ä¼ é€’x-wwww-urlincodeâ€</font>**çš„å‚æ•°

```javascript
// ä¸‹é¢çš„ä»£ç çš„ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ formData
<input id="uploadFile" name="file" type="file">
<script>
 const file = document.getElementById('uploadFile')
        let formData = new FormData()
        formData.append('file', file.files[0])
        const req = new XMLHttpRequest()
        req.onreadystatechange = function(){
          if (req.readyState === 4) {
            const response  = JSON.parse(req.responseText)
            if (response.code === '200') {
              console.log('success')
            } else {
              console.log('fail')
            }
          }
        }
        req.open('post', 'https://sxxx.com/uploadfile', true)
        req.send(formData)
</script>

// ä¸‹é¢çš„ä»£ç æ˜¯x-wwww-urlincode çš„æ–¹å¼
var xhr = new XMLHttpRequest();
xhr.open("post","http://127.0.0.1:8000/post");
xhr.setRequestHeader("content-Type","application/x-www-form-urlencoded");
xhr.send("name=js&age=18"); // ç‰¹åˆ«è¦æ³¨æ„è¿™é‡Œï¼
xhr.onreadystatechange = function() {
    if(xhr.readyState === 4 && xhr.status ===200){
        console.log(xhr.responseText);
    }
}
xhr.onerror = function (error) {
    console.log(error)
}

// ä¸‹é¢çš„å…¶ä»–çš„ä¸€äº›åŸºç¡€çš„xhrçš„è¯·æ±‚æ–¹å¼
//1.æœªæºå¸¦å‚æ•°çš„getè¯·æ±‚
var xhr = new XMLHttpRequest();
xhr.open("get","http://127.0.0.1:8000");
xhr.send();
xhr.onreadystatechange = function() {
    if(xhr.readyState === 4 && xhr.status ===200){
        console.log(xhr.responseText);
    }
}
xhr.onerror = function (error) {
    console.log(error)
};


//2.æºå¸¦å‚æ•°çš„getè¯·æ±‚
var xhr = new XMLHttpRequest();
xhr.open("get","http://127.0.0.1:8000?name=js&age=18");
xhr.send();
xhr.onreadystatechange = function() {
    if(xhr.readyState === 4 && xhr.status ===200){
        console.log(xhr.responseText);
    }
}
xhr.onerror = function (error) {
    console.log(error)
}




//3.æœªæºå¸¦å‚æ•°çš„postè¯·æ±‚
var xhr = new XMLHttpRequest();
xhr.open("post","http://127.0.0.1:8000/post");
xhr.send();
xhr.onreadystatechange = function() {
    if(xhr.readyState === 4 && xhr.status ===200){
        console.log(xhr.responseText);
    }
}
xhr.onerror = function (error) {
    console.log(error)
}



//4.æºå¸¦å‚æ•°çš„post ï¼ˆJSONï¼‰
var xhr = new XMLHttpRequest();
xhr.open("post","http://127.0.0.1:8000/post");
xhr.setRequestHeader("content-Type","application/json");
xhr.send(JSON.stringify({name:"js",age: 18}));
xhr.onreadystatechange = function() {
    if(xhr.readyState === 4 && xhr.status ===200){
        console.log(xhr.responseText);
    }
}
xhr.onerror = function (error) {
    console.log(error)
}
```



```markdown
postè¯·æ±‚å¤´çš„å¸¸è§æ•°æ®æ ¼å¼
1ã€application/jsonï¼ˆJSONæ•°æ®æ ¼å¼ï¼‰

xhr.setRequestHeader("Content-type","application/json; charset=utf-8");
1
è¿™ç§ç±»å‹æ˜¯æˆ‘ä»¬ç°åœ¨æœ€å¸¸ç”¨çš„ï¼Œè¶Šæ¥è¶Šå¤šçš„äººæŠŠå®ƒä½œä¸ºè¯·æ±‚å¤´ï¼Œç”¨æ¥å‘Šè¯‰æœåŠ¡ç«¯æ¶ˆæ¯ä¸»ä½“æ˜¯åºåˆ—åŒ–åçš„ JSON å­—ç¬¦ä¸²ã€‚ç”±äº JSON è§„èŒƒçš„æµè¡Œï¼Œé™¤äº†ä½ç‰ˆæœ¬ IE ä¹‹å¤–çš„å„å¤§æµè§ˆå™¨éƒ½åŸç”Ÿæ”¯æŒ JSON.stringifyï¼ŒæœåŠ¡ç«¯è¯­è¨€ä¹Ÿéƒ½æœ‰å¤„ç† JSON çš„å‡½æ•°ï¼Œä½¿ç”¨ JSON ä¸ä¼šé‡ä¸Šä»€ä¹ˆéº»çƒ¦ã€‚
2ã€application/x-www-form-urlencoded

xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=utf-8");
1
è¿™åº”è¯¥æ˜¯æœ€å¸¸è§çš„ POST æäº¤æ•°æ®çš„æ–¹å¼äº†ã€‚æµè§ˆå™¨çš„åŸç”Ÿ form è¡¨å•ï¼Œå¦‚æœä¸è®¾ç½® enctype å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šä»¥ application/x-www-form-urlencoded æ–¹å¼æäº¤æ•°æ®
**3ã€multipart/form-data **

xhr.setRequestHeader("Content-type", "multipart/form-data; charset=utf-8");
1
è¿™åˆæ˜¯ä¸€ä¸ªå¸¸è§çš„ POST æ•°æ®æäº¤çš„æ–¹å¼ã€‚æˆ‘ä»¬ä½¿ç”¨è¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå¿…é¡»è®© form çš„ enctyped ç­‰äºè¿™ä¸ªå€¼
4ã€text/xml

xhr.setRequestHeader("Content-type", "text/xml; charset=utf-8");
1
å®ƒæ˜¯ä¸€ç§ä½¿ç”¨ HTTP ä½œä¸ºä¼ è¾“åè®®ï¼ŒXML ä½œä¸ºç¼–ç æ–¹å¼çš„è¿œç¨‹è°ƒç”¨è§„èŒƒï¼Œè¿™ç§æ–¹å¼ç°åœ¨ä¸å¸¸ç”¨

å“åº”å¤´å¸¸è§æ•°æ®æ ¼å¼
1ï¼‰ã€text/html ï¼š HTMLæ ¼å¼
2ï¼‰ã€text/plain ï¼šçº¯æ–‡æœ¬æ ¼å¼
3ï¼‰ã€application/jsonï¼šjsonæ ¼å¼
4ï¼‰ã€text/xml ï¼š XMLæ ¼å¼
5ï¼‰ã€image/gif ï¼šgifå›¾ç‰‡æ ¼å¼
6ï¼‰ã€image/jpeg ï¼šjpgå›¾ç‰‡æ ¼å¼
7ï¼‰ã€image/pngï¼špngå›¾ç‰‡æ ¼å¼
8ï¼‰ã€application/pdfï¼špdfæ ¼å¼
9ï¼‰ã€application/msword ï¼š Wordæ–‡æ¡£æ ¼å¼
10ï¼‰ã€application/octet-stream ï¼š äºŒè¿›åˆ¶æµæ•°æ®ï¼ˆå¦‚å¸¸è§çš„æ–‡ä»¶ä¸‹è½½ï¼‰
5ã€å‰åç«¯äº¤äº’æ—¶ï¼Œå¸¸ç”¨çš„content-type
application/json
```

