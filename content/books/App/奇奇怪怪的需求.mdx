---
title: "iOS æ–‡ä»¶å‹ç¼©ä¸è§£å‹ç¼©ï¼šSSZipArchive ä½¿ç”¨è¯¦è§£"
date: "2024-12-19"
summary: "è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ iOS é¡¹ç›®ä¸­ä½¿ç”¨ SSZipArchive åº“è¿›è¡Œæ–‡ä»¶çš„å‹ç¼©å’Œè§£å‹ç¼©æ“ä½œï¼ŒåŒ…å«å®Œæ•´çš„ Objective-C å®ç°ä»£ç ã€‚"
status: "completed"
tech: ["iOS", "SSZipArchive", "Objective-C"]
github: "https://github.com/BM-laoli"
arxiv: ""
keyId: "App"
---

## å¦‚ä½•è¿›è¡Œæ–‡ä»¶çš„å‹ç¼©è§£å‹ç¼©ï¼Ÿ
å‚è€ƒé“¾æ¥ [SSZipArchiveçš„ä½¿ç”¨è¯¦è§£_æƒ³åçœŸéš¾çš„åšå®¢-CSDNåšå®¢_ssziparchive](https://blog.csdn.net/u014600626/article/details/104536086?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-104536086-blog-24851877.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-104536086-blog-24851877.pc_relevant_default&utm_relevant_index=2)

å®ç°demo: 

```objectivec
//
//  ViewController.m
//  ToBeOk
//
//  Created by administrator on 2022/11/9.
//

#import "ViewController.h"
#import "SSZipArchive.h"

@interface ViewController ()<SSZipArchiveDelegate>

@end

@implementation ViewController

- (instancetype) init {
    self = [super init];
    if (self) {
      }
    return self;
}

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    UIView *view = [[UIView alloc] init];
    view.backgroundColor = [UIColor grayColor];
    view.frame = CGRectMake(100,100, 100, 100);
    [self.view addSubview:view];

    view.userInteractionEnabled = YES;
    UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(loadScriptWithBridge)];
    [view addGestureRecognizer:tap];

}

- (void)loadScriptWithBridge {
    NSLog(@"6666ClickME");

    // æœ¬åœ°æ²™ç›’å¯ä»¥ç›´æ¥é€šè¿‡ NSBundle è·å–åˆ°ä½
    /* path å°±æ˜¯è¿™ä¸ª file:///Users/administrator/Library/Developer/CoreSimulator/Devices/9BC4CA61-C14B-467E-BE6B-686272BB128C/data/Containers/Bundle/Application/04F4A1D8-6679-480E-8F22-11528B1EEA84/ToBeOk.app/
*/
    /*
NSString *locaPath =  [[NSBundle mainBundle] resourceURL];
NSString *pathString = [[NSBundle mainBundle] URLForResource:@"assets/abc" withExtension:@"js"].path;
*/

    [self createZipFile];
    [self unzipFile];

}

//å‹ç¼©
- (void)createZipFile  {
    NSString *targetPath = [[NSBundle mainBundle] resourcePath];

    //æºæ–‡ä»¶è·¯å¾„
    NSString *sourceFilePath = [targetPath stringByAppendingString:@"/assets/abc.js"];

    //ç›®çš„è·¯å¾„
    NSString *tarPath = [targetPath stringByAppendingString:@"/assets/z.zip"];

    //æ•°ç»„é‡Œå¯ä»¥æ”¾å¤šä¸ªæºæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢«åŒä¸€æ‰“åŒ…æˆå‹ç¼©åŒ…ï¼Œåˆ° destinationPath è¿™ä¸ªè·¯å¾„ä¸‹ã€‚
    if ([SSZipArchive createZipFileAtPath:tarPath withFilesAtPaths:@[sourceFilePath]]) {
        NSLog(@"å‹ç¼©æˆåŠŸ");
    }
    else {
        NSLog(@"å‹ç¼©å¤±è´¥");
    }
}

//è§£å‹
- (void)unzipFile {

    NSString *targetPath = [[NSBundle mainBundle] resourcePath];

    // åŸæ–‡ä»¶è·¯å¾„
    NSString *sourceFilePath = [[NSBundle mainBundle] URLForResource:@"assets/z" withExtension:@"zip"].path;

    //ç›®æ ‡è·¯å¾„
    NSString *destinationPath = [targetPath stringByAppendingString:@"/uzip/"];

    //æŠŠ sourceFilePath è¿™ä¸ªè·¯å¾„ä¸‹çš„zipåŒ…ï¼Œè§£å‹åˆ°è¿™ä¸ª destinationPath è·¯å¾„ä¸‹
    if ([SSZipArchive unzipFileAtPath:sourceFilePath toDestination:destinationPath] ){
        NSLog(@"è§£å‹æˆåŠŸ");
        // è¯»å–æ•°æ® ğŸ¤”
        NSURL *URL = [[NSBundle mainBundle] URLForResource:@"uzip/abc" withExtension:@"js"];
    }
    else {
        NSLog(@"è§£å‹å¤±è´¥");
    }
}

  // SSZipArchive éœ€è¦æŒ‡å®šçš„ deleget
  #pragma mark - SSZipArchiveDelegate
  - (void)zipArchiveWillUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo {
    NSLog(@"å°†è¦è§£å‹ã€‚");
}

  - (void)zipArchiveDidUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo unzippedPath:(NSString *)unzippedPat uniqueId:(NSString *)uniqueId {
    NSLog(@"è§£å‹å®Œæˆï¼");
}
  @end

```

