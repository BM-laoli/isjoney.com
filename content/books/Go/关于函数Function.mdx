---
title: "Go æ ¸å¿ƒç‰¹æ€§ï¼šå‡½æ•°å¼ç¼–ç¨‹ä¸é¢å‘å¯¹è±¡å®ç°"
date: "2024-12-19"
summary: "æ·±å…¥è§£æ Go è¯­è¨€çš„å‡½æ•°å¼ç¼–ç¨‹ç‰¹æ€§ã€é¢å‘å¯¹è±¡å®ç°æœºåˆ¶ã€æ¥å£è®¾è®¡åŸåˆ™åŠé”™è¯¯å¤„ç†æœ€ä½³å®è·µï¼ŒåŒ…å«å¤šæ€ã€ç»„åˆã€ç©ºæ¥å£ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚"
status: "completed"
tech: ["Go", "OOP", "Interface", "ErrorHandling"]
github: "https://github.com/BM-laoli"
arxiv: ""
keyId: "Go"
---

## ä¸€äº›åŸºç¡€æ¦‚å¿µ
### å’Œjsä¸€æ ·å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘
æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯ä¼  å€¼ ä¸ä¼šä¼ å¼•ç”¨ slice å®é™…ä¸Šç»“æ„æ˜¯å¤åˆ¶çš„ ï¼Œä¼ é€’çš„æ˜¯ ç»“æ„ é‡Œ æŒ‡é’ˆ çš„å¤åˆ¶ 

å¤šè¿”å›å€¼

### ä¼ é€’å‡½æ•°FP
ï¼ˆå’ŒJSä¸€æ ·æœ‰å¿…åŒ…è¿™ç§æ¦‚å¿µï¼Œgoä¸­çš„ä¹Ÿè®²ç©¶FPçš„æ¦‚å¿µ è€Œä¸æ˜¯OOPï¼‰

```go
package test

import (
	"fmt"
	"math/rand"
	"testing"
	"time"
)

// æµ‹è¯•å¤šè¿”å›å€¼
func returnMuintValue() (int, int) {
	return rand.Intn(10), rand.Intn(20)
}
func TestFn(t *testing.T) {
	a, b := returnMuintValue()

	t.Log(a, b)
}

// wrapå‡½æ•° FPæ¨¡å¼
func timeSpent(inner func(op int) int) func(op int) int {
	return func(n int) int {
		startTme := time.Now()
		ret := inner(n)
		fmt.Println("time span ===>", time.Since(startTme).Seconds())
		return ret
	}
}

func showFN(value int) int {
	time.Sleep(time.Second * 1)
	return value
}

func TestWrapFP(t *testing.T) {
	tsSFFP := timeSpent(showFN)
	t.Log(tsSFFP(10))
}

```

### å‰©ä½™å‚æ•°
æ³¨æ„æˆ‘çš„ è¿™ä¸ªè¯æ˜¯ä» jsæ‹¿è¿‡æ¥æ¥çš„ï¼Œåœ¨ä½ Goçš„ ä»–å«åš å¯å˜é•¿å‚æ•°æ˜¯ä¸€ä¸ªarray / slice

```go
package test

import (
	"fmt"
	"testing"
)

func Sumx(arg ...int) int {
	res := 0
	for _, i := range arg {
		res = i + res
	}
	return res
}
func TestMorArg(t *testing.T) {
	t.Log("===>", Sumx(1, 1, 1))
	t.Log("===>", Sumx(1, 2, 3))
}

```

### å»¶æ—¶æ‰§è¡Œ
panicæ˜¯ ä¸€ä¸ªæŠ›å‡ºerrorå’Œä¸­æ–­ç¨‹åºçš„æ“ä½œ

```go

func print666() {
	fmt.Printf("æˆ‘æ˜¯print666")
}
func TestDefer(t *testing.T) {
	defer print666()
	t.Log("æˆ‘æ˜¯1 -1 ")
	panic("err")
	t.Log("æˆ‘æ˜¯1 -2")

}
```

## Goä¸­çš„OOPæ˜¯å¦‚ä½•å®ç°çš„
GO æ˜¯OOPå˜›ï¼Ÿå®˜æ–¹ä¹Ÿçš„å›ç­”æ˜¯ï¼šæ˜¯ä¹Ÿä¸æ˜¯ï¼Œä½†æ˜¯å®é™…ä¸Šgoæ˜¯ä¸æ”¯æŒç»§æ‰¿çš„ï¼Œgoä¸­çš„interfae å’Œtså¾ˆåƒä»–è¯´ä¸€å®—dack type ğŸ¦† é¸­å­ç±»å‹

### ç»“æ„ä½“ï¼ˆå¯¹æ•°æ®çš„å°è£…ï¼‰æ„é€ å‡½æ•°
```go


type Employee struct {
	Name string
	Id   string
	Age  int
}

```

### å®ä¾‹åŒ– ï¼ˆåˆå§‹åŒ–ç»“æ„ä½“å®åŠ›ï¼‰
newçš„åˆ›å»º è¿”å›çš„æ˜¯æŒ‡é’ˆç±»å‹ ï¼Œç›´æ¥å®ä¾‹åŒ–è¿”å›çš„æ˜¯ å®ä¾‹

```go
package test

import (
	"fmt"
	"testing"
	"unsafe"
)

type Employee struct {
	Name string
	Id   string
	Age  int
}

func TestFuncOOP(t *testing.T) {
	e := Employee{"0", "Bod", 20}
	e1 := Employee{Name: "Aoda", Id: "1", Age: 30}

	e2 := new(Employee) // å®é™…ä¸Šnew è¿”å›çš„æ˜¯ä¸€ä¸ª å®ä¾‹çš„æŒ‡é’ˆ æ—¢ e := &Employee ï¼ˆ&å–æŒ‡é’ˆæ“ä½œç¬¦åœ¨goä¸­ï¼‰ åœ¨cè¯­è¨€ä¸­å¦‚æœä½ è·å–åˆ°æ­»æŒ‡é’ˆå˜é‡ å¦‚æœä½ éœ€è¦è·å–å€¼ éœ€è¦ -> ç¬¦å·ä½†æ˜¯goä¸­ä¸éœ€è¦
	e2.Id = "2"
	e2.Name = "Joney"

	t.Log(e)
	t.Log(e1)
	t.Log(e2)

	t.Logf("e is %T", e)   // %T å–ç±»å‹ test.Employee
	t.Logf("e2 is %T", e2) // *test.Employee

}

```

### æ–¹æ³•å®šä¹‰ï¼ˆå€¼è¿˜æ˜¯å†…å­˜å¤åˆ¶ï¼Ÿï¼‰
**<font style="color:#E8323C;">è¡Œä¸ºæ–¹æ³•å®šä¹‰å®šä¹‰ ä¸¤ç§æ–¹å¼çš„åŒºåˆ«æ˜¯ï¼šâ€œ*æ˜¯æ²¡æœ‰cvå‚æ•°ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯æ”¾åœ¨åŒä¸€ä¸ªå†…å­˜ä½ç½®ä¸Šçš„ï¼Œä½†æ˜¯ä¸ç”¨*å°±ä¼šäº§ç”Ÿå¤åˆ¶æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„åœ°å€ æ€§èƒ½ä¸å¥½â€ ï¼ˆunsafeæ˜¯ä¸€ä¸ªå·¥å…·ç›˜pkg å¯ä»¥å–åˆ°å†…å­˜åœ°å€ï¼‰</font>**

**<font style="color:#E8323C;">æ–¹æ³•è¦ç»‘å®šsturtä¸Š</font>**

```go

// æ·»åŠ  è¡Œä¸º ï¼Œè¿™ä¸ªæ–¹å¼çš„è¯ï¼Œç”±äºæˆ‘ä»¬å‰é¢è¯´äº† go çš„function  å‚æ•°éƒ½æ˜¯å€¼æ‹·è´çš„ï¼Œä½ è¿™ä¹ˆå†™ å®ƒä¼šç›´æ¥åœ¨å†…å­˜ä¸­ç»™ä½ æä¸€ä»½ç©ºé—´ åˆå§‹åŒ– Employeeï¼Œå¦‚ä½•éªŒè¯è¯·çœ‹ä¸‹é¢çš„ä»£ç  xå¤„
// func (e Employee) String() string {
// 	fmt.Printf("Address is %x", unsafe.Pointer(&e.Name))                // è¿™ä¸ª unsafaåŒ…è‡ªå·±ä¸‹å» %xæ˜¯å»16è¿›åˆ¶çš„æ•°æ®ï¼Œä¸€èˆ¬æ¥è¯´å†…å­˜åœ°å€éƒ½æ˜¯16 è¿›åˆ¶çš„
// 	return fmt.Sprintf("ID: %s-Name: %s-Age : %d", e.Id, e.Name, e.Age) // %s å–string å ä½ã€‚%d å–int
// }

// è¿™ä¸ªå’Œä¸Šé—¨æ¯”è¾ƒçš„å¥½å¤„å°±æ˜¯ ä½ è·å–çš„æ˜¯ åŒä¸€å—å†…å­˜åœ°å€ å› ä¸ºä½ æ˜¯æŒ‡é’ˆ ï¼ŒæŒ‡é’ˆå®é™…ä¸Šæ˜¯æŒ‡å‘åŒä¸€ç‰‡å†…å­˜åœ°å€çš„ ,æ‰€ä»¥æ²¡æœ‰å¤åˆ¶å¤šä½™çš„å­˜å‚¨ç©ºé—´ å»ºè®®ä½¿ç”¨ 
func (e *Employee) String() string {
	// ä»£ç  xå¤„ ä¸‹é¢æˆ‘ä»¬æ¥å–å®ƒçš„å†…å­˜åœ°å€
	fmt.Printf("Address is %x", unsafe.Pointer(&e.Name)) // è¿™ä¸ª unsafaåŒ…è‡ªå·±ä¸‹å» %xæ˜¯å»16è¿›åˆ¶çš„æ•°æ®ï¼Œä¸€èˆ¬æ¥è¯´å†…å­˜åœ°å€éƒ½æ˜¯16 è¿›åˆ¶çš„

	return fmt.Sprintf("ID: %s-Name: %s-Age : %d", e.Id, e.Name, e.Age) // %s å–string å ä½ã€‚%d å–int
}

func TestFuncMethod(t *testing.T) {
	e := Employee{"0", "Employ", 20}
	fmt.Printf("Address is %x", unsafe.Pointer(&e.Name)) // è¿™ä¸ª unsafaåŒ…è‡ªå·±ä¸‹å» %xæ˜¯å»16è¿›åˆ¶çš„æ•°æ®ï¼Œä¸€èˆ¬æ¥è¯´å†…å­˜åœ°å€éƒ½æ˜¯16 è¿›åˆ¶çš„

	t.Log(e.String())
}

```



### å®šä¹‰æ¥å£
Interface æ˜¯ å®šä¹‰ å¯¹è±¡ä¹‹é—´äº¤äº’çš„åè®®ç”¨çš„ï¼Œè¯´ç™½äº†å°±æ˜¯è§„åˆ™

ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†javaä¸­çš„å¾ªç¯ä¾èµ– ï¼Œjavaä¸­ä¼šå•ç‹¬æŠŠinterface æ”¾åœ¨ä¸€ä¸ªç‹¬ç«‹çš„pkgä¸­å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜

![](https://cdn.nlark.com/yuque/0/2022/png/1627571/1652364076014-3df70ce6-677f-4866-a9c1-0f4ca7be8348.png)

goä¸­å¦‚ä½•å®šä¹‰interfaceï¼Œæˆ‘ä»¬ä¸æƒ³è¦implmenet å»å®ç°ï¼Œè¿™ç§å°±æ˜¯dockType ï¼Œå®ƒçš„æ„æ€æ˜¯çœ‹èµ·æ¥ä¸€æ · ï¼ˆæ–¹æ³•åå®Œå…¨ä¸€è‡´ï¼‰ å®ƒçš„å€Ÿå£çš„å®ç°ä¸éœ€è¦ä¾èµ–å®ƒçš„å®šä¹‰

```go
package test

import (
	"fmt"
	"testing"
	"time"
)

type Programer interface {
	SayHello() string
}

type GoProgramer struct{}

// è¿™é‡Œè¦æ±‚ darkTyp ç­¾åå®Œå…¨ä¸€è‡´  ï¼ˆ  	SayHello() string  ï¼‰
func (g *GoProgramer) SayHello() string {
	return "fmt.Println(\"Hello!!!!\")"
}

func TestCLinet(t *testing.T) {
	p := new(GoProgramer)

	t.Log(p.SayHello())
}


```

### å…³äºæ‰“åŒ…ğŸ“¦
ç”±äºgoçš„interface å®ç°ä¸ä¾èµ– å®ƒçš„å®šä¹‰ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨interfaceä¸Šå‡ºç°å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼ŒåŒä¸€ä¸ªpkgä¸‹çš„Interfaceéƒ½æ˜¯å…±äº«çš„

### æ¥å£å˜é‡	
![](https://cdn.nlark.com/yuque/0/2022/png/1627571/1652364029041-0a229ca4-b3df-4ab0-8cbd-b0d7fc15c14e.png)

### è‡ªå®šä¹‰ç±»å‹
æˆ‘ä»¬å°±ä»¥å‰é¢Wrapçš„ä¾‹å­ï¼Œæ¥ä¼˜åŒ–ä¸€ä¸‹å®ƒçš„å†™æ³•

```go

// è‡ªå®šä¹‰ç±»å‹
type MyFunction func(op int) int

func timeSpentX(inner MyFunction) MyFunction {
	return func(n int) int {
		startTme := time.Now()
		ret := inner(n)
		fmt.Println("time span ===>", time.Since(startTme).Seconds())
		return ret
	}
}
```



### æ‰©å±•å’Œå¤ç”¨ï¼ˆç±»ä¼¼ç»§æ‰¿ï¼‰
 goå®é™…ä¸Šä¸æ”¯æŒç»§æ‰¿ ï¼Œæ”¯æŒç»„åˆï¼Œå®é™…ä¸Š ç»„åˆä¼˜äºç»§æ‰¿ï¼Œ

LSP => æ‰€ä»¥çˆ¶ç±»ä½¿ç”¨çš„åœ°æ–¹ å­ç±»éƒ½å¯ä»¥æ”¾è¿›å»ï¼Œå’‹jsä¸­æ˜¯å¯ä»¥å®ç°OOPçš„æ‰€æœ‰ç‰¹æ€§çš„

[https://blog.fundebug.com/2020/01/02/javascript-classes-complete-guide/](https://blog.fundebug.com/2020/01/02/javascript-classes-complete-guide/)

```javascript
class User {
    name;

    constructor(name) {
        this.name = name;
    }

    getName() {
        return this.name;
    }
}

class ContentWriter extends User {
    posts = [];
}

const writer = new ContentWriter("John Smith");

writer.name; // => 'John Smith'
writer.getName(); // => 'John Smith'
writer.posts; // => []

```



åœ¨goä¸­å¦‚ä½•å®ç°ç±»ä¼¼çš„ä¸œè¥¿å‘¢ï¼Ÿ

```go
package test

import (
	"fmt"
	"testing"
)
// å®šä¹‰çˆ¶
type Pet struct {
}

func (p *Pet) Space() {
	fmt.Println("-----")
}

func (p *Pet) SpaceTO(host string) {
	p.Space()
	fmt.Println("helloå“‡", host)
}

// å®šä¹‰å­
type Dog struct {
	p *Pet
}

func (d *Dog) Space() {
	d.p.Space()
}

func (d *Dog) SpaceTO(host string) {
	d.Space()
	fmt.Println("-----å­", host)
}

func TestWrapDog(t *testing.T) {
	dog := new(Dog)
	dog.SpaceTO("Chan")
}

```



åŒ¿ååµŒå¥—ç±»å‹ - æ›´åŠ æ–¹ä¾¿çš„ç±»ç»§æ‰¿æ–¹å¼

```go

// æˆ‘ä»¬æœ‰æ›´åŠ ç®€å•çš„æ–¹å¼å®ç° ç»„åˆ
type Dog struct {
	Pet // åŒ¿ååµŒå¥—ç±»å‹ ç±»ä¼¼jsä¸­çš„åŸå‹
}


func TestWrapDog(t *testing.T) {
	dog := new(Dog)
	dog.SpaceTO("Chan")
}

```



å¯ä»¥é‡æ ½å˜›ï¼Ÿä¸å¯ä»¥å“ˆï¼Œä½†æ˜¯å¯ä»¥è¦†å†™

```go

// æˆ‘ä»¬æœ‰æ›´åŠ ç®€å•çš„æ–¹å¼å®ç° ç»„åˆ
type Dog struct {
	Pet // åŒ¿ååµŒå¥—ç±»å‹ ç±»ä¼¼jsä¸­çš„åŸå‹
}

// å¦‚æœéœ€è¦è¦† å†™ å°±éœ€è¦è‡ªå·±é‡æ–°å®šä¹‰
func (d *Dog) Space() {
	fmt.Println("å­å¤å†™-----")
}

func (d *Dog) SpaceTO(host string) {
	d.Space()
	fmt.Println("-----å­", host)
}

func TestWrapDog(t *testing.T) {
	dog := new(Dog)
	dog.SpaceTO("Chan")
}

```

### å¤šæ€
å®ä¾‹ä»£ç 

æ³¨æ„ new å’Œ {} çš„åŒºåˆ«

```go
package test

import (
	"fmt"
	"testing"
)

type Code string

type ProgramerX interface {
	writeCode() Code
}

// æˆ‘ä»¬æœ‰ä¸€ä¸ªç¨‹åºè¦å¤åˆçš„å‚æ•°p å¾—å¤åˆè¿™ä¸ªæ¥å£
// ä¸åŒçš„äººå®ç°å®ƒï¼Œå°±æœ‰ä¸åŒçš„è¡¨ç°å‡ºæ¥ï¼Œè¿™å°±æ˜¯å¤šæ€
func someCode(p ProgramerX) {
	fmt.Printf("%T %v\n", p, p.writeCode())
}

type GoProgramerX struct{}
type JavaProgramerX struct{}

func (goP *GoProgramerX) writeCode() Code {
	return "fmt.Print()"
}

func (javaP *JavaProgramerX) writeCode() Code {
	return "System.out.Print()"
}

// è¿›å…¥æµ‹è¯•ç¨‹åº
func TestPos(t *testing.T) {
	goProg := new(GoProgramerX)
	// æ³¨æ„å•Šâš ï¸ å‰é¢æˆ‘ä»¬ è¯´è¿‡ new( struct ) å’Œ struct{} åŒºåˆ«
	// å‰ç½®è¿”å›çš„æ˜¯æŒ‡é’ˆï¼Œåè€…è¿”å›çš„æ˜¯ å®ä¾‹

	// å¦‚æœä½   struct{  } ,é‚£ä¹ˆå°±å¾—è¿™æ ·å†™
	// goProg := &GoProgramerX{}

	javaProg := new(JavaProgramerX)
	someCode(goProg)
	someCode(javaProg)
}

//ç©ºæ¥å£ï¼Ÿç©ºæ¥å£çš„ä½œç”¨ä¸€èˆ¬éƒ½æ˜¯ ä¸ºäº†æ–­è¨€ å’Œè½¬ any 


```

### ç©ºæ¥å£ å’Œæ–­è¨€
```go

//ç©ºæ¥å£ï¼Ÿç©ºæ¥å£çš„ä½œç”¨ä¸€èˆ¬éƒ½æ˜¯ ä¸ºäº†æ–­è¨€ å’Œè½¬ any
func doSomething(p interface{}) {
	// if i, ok := p.(int); ok {   // p .(type) æ˜¯æ–­è¨€ ä½ å¯ä»¥ç”¨swtich ä¹Ÿå¯ä»¥ä½¿ç”¨ if
	// 	fmt.Println("integer",i)
	// }
	switch v := p.(type) {
	case int:
		fmt.Println("Interger", v)
	case string:
		fmt.Println("String", v)
	default:
		fmt.Println("unkouwn")
	}
}

func TestEmptyInterface(t *testing.T) {
	doSomething(10)
	doSomething("10")
}

```

### goä¸­çš„OOPç»éªŒ
![](https://cdn.nlark.com/yuque/0/2022/png/1627571/1652452483456-81a50392-fc35-4e90-b551-e06ee2133efb.png)



## å…³äºé”™è¯¯å¤„ç†
æˆ‘ä»¬æ¨è åœ¨å›¢é˜Ÿä¸­ ç»Ÿä¸€ä½¿ç”¨ ç®€å•çš„å†™æ³•;

åœ¨goä¸­çš„é”™è¯¯ï¼Œä¸€èˆ¬éƒ½æ˜¯ å€¼ä¸ºå…ˆï¼Œerroä¸ºåï¼Œä½†æ˜¯åœ¨nodeä¸­ æ˜¯é”™è¯¯ä¼˜å…ˆçš„ï¼›

æœ€ä½³å®è·µï¼šåŠæ—©å¤±è´¥ï¼Œé¿å…åµŒå¥—ï¼›

```go
package test

import (
	"errors"
	"testing"
)

//æˆ‘ä»¬é€šå¸¸ è¿™æ ·æ¥å¤„ç†é”™è¯¯
var Err1 = errors.New("æˆ‘è¦å¤§äº2")
var Err2 = errors.New("æˆ‘è¦å°äº100")

func getFib(n int) ([]int, error) {
	if n < 2 {
		return nil, Err1
	}
	if n > 100 {
		return nil, Err2
	}
	// é”™è¯¯ä¼˜å…ˆå¤„ç†

	fibLit := []int{1, 1}
	for i := 2; i < n; i++ {
		fibLit = append(fibLit, fibLit[i-2]+fibLit[i-1])
	}
	return fibLit, nil
}

func TestErorr(t *testing.T) {
	v, err := getFib(5)
	if err == Err1 {
		t.Log(Err1)
		return
	}

	if err == Err2 {
		t.Log(Err2)
		return
	}

	t.Log(v)

}

```

### panic  å’Œ 
 painc å’Œos exit åŒºåˆ«ï¼ˆæ³¨æ„deferæ˜¯è¢«æ‰§è¡Œçš„ï¼‰

recover ï¼ˆgoä¸­çš„try catch ï¼‰ä¸‹é¢çš„ä¾‹å­ä¸­å®ƒä¼šæŠŠ functinä¸­çš„é”™è¯¯éƒ½æŠ“èµ·æ¥ï¼Œä¸”ä¸ä¼šæŠ›å‡º ä½†æ˜¯è¿™æ ·ä¸€èˆ¬æ˜¯ä¸å¥½çš„

æ³¨æ„revocer ä¸è¦æ»¥ç”¨ ï¼Œä¼šå¯¼è‡´åƒµå°¸è¿›ç¨‹ï¼ˆä½ çš„ç¨‹åºæ˜¯é”™çš„äº†ï¼Œä½†æ˜¯å®ƒä¾ç„¶åœ¨è¿è¡Œï¼‰æ›´åŠ åˆç†çš„åšæ³•æ˜¯è®©ç¨‹åºé‡å¯æ¥è§£å†³ä¸€äº›æœªçŸ¥çš„é”™è¯¯ã€‚

![](https://cdn.nlark.com/yuque/0/2022/png/1627571/1652591500352-21b10dda-4412-4ca9-abcc-2fc939068c8e.png)

```go
func TestErrorCahth(t *testing.T) {
	// fmt.Printf("xxxx")
	// os.Exit(-1)  // é€€å‡ºä¸ä¼šæœ‰ä»»ä½•ä¿¡æ¯
	// fmt.Printf("1111") // ä¸ä¼šæ‰§è¡Œ

	// defer func() { // defer ä¸ä¼šè¢«error å½±å“
	// 	fmt.Printf("deferdeferdeferdefer")
	// }()
	// panic(errors.New("error")) // ä¼šæœ‰é”™è¯¯ä¿¡æ¯
	// // è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª ç©º interface  ä½ åº”è¯¥ç†è§£è¿™æ˜¯ä¸ºä»€ä¹ˆ ç±»ä¼¼any

	// ä¸‹é¢å°±æ˜¯ recover çš„ç”¨æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šè¿™æ ·å†™ï¼Œå› ä¸ºlog å¹¶æ²¡æœ‰ä»»ä½•æ„ä¹‰è¿˜ä¼šæœ‰é—®é¢˜
	defer func() {
		if err := recover(); err != nil {
			fmt.Println("è¿™å°±æ˜¯recoverçš„ç”¨æ³•", err) 
		}
	}()
	panic("æˆ‘é”™äº†")
}

```











